<!doctype html><html class=mind20231129201049 lang=en-gb><head itemscope itemtype=http://schema.org/Blog><title>Johan Brook</title><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><link href=https://gc.zgo.at rel=preconnect><link href=https://johanbrook.goatcounter.com rel=preconnect><meta content="I'm a thirty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."name=description><meta content="Johan Brook"name=author><link href=/johan.css rel=stylesheet><link title="Johan Brook: Posts feed"href=/feed.xml rel=alternate type=application/atom+xml><link title="Johan Brook: Mind feed"href=/mind.xml rel=alternate type=application/atom+xml><link title="Johan Brook: Book feed"href=/reading.xml rel=alternate type=application/atom+xml><link rel="shortcut icon"href=/favicon.png type=image/png><link href=https://johan.im/mind/20231129201049/ itemprop=url rel=canonical><link href=https://johan.im rel=author><link href=https://hachyderm.io/@brookie rel=me><meta property=og:title><meta content=https://johan.im/mind/20231129201049/ property=og:url><meta content="Johan Brook"itemprop=name property=og:site_name><meta content=en_GB property=og:locale><meta content="I'm a thirty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."property=og:description><meta content=blog property=og:type><body><a class="visually-hidden skip-link"href=#main>Skip to content</a><div class=Content><div id=main><main role=main><article class=Note><header class=mb2><h1 class="f4 no-rhythm mb0"><a class="font-serif no-underline target"href=/mind/20231129201049/ title=Permalink>November 29th, 2023â€‰â€”â€‰20:10 <span>#</span></a></h1><p class="muted font-sans mb0 f5 target"title="Posted from">My couch in Stockholm</header><div class=prose><p>Messing around with the styling and structure here on the website again. Iâ€™m so inspired by all the personal sites I stumble on in my feed. But not inspired enough to actually produce as much content here as I would love to ğŸ˜„<p>Been reading a lot about <a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_components>Web Components</a> recently. Theyâ€™re having a sort of renaissance at the moment â€” not sure why this timing actually â€” much thanks to them being a tool in the box when building with progressive enhancement. All PE thought leaders are going on about the beauty of Web Components and â€œhow you donâ€™t need any big JS or Virtual DOM libraries at all!!â€. I get that for small, self-contained UI components, but for anything non-trivial, youâ€™re kind of bound to reinvent something inhouse for your app anyway, no? I guess Web Components fill the hole where you just want to drop a custom element in a piece of markup and have a Web Component use the element with contained JS and perhaps CSS.<p>But the idea of â€œHTML Web Componentsâ€ is really neat, in the way it enhances existing markup. Like this:<pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation"><</span>convert-currency</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>USD<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&LT/</span>convert-currency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation"><</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>convert-currency.js<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&LT/</span>script</span><span class="token punctuation">></span></span>
</code></pre><pre class=language-js><code class=language-js><span class="token comment">// convert-currency.js</span>
customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'convert-currency'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>
    <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// use this.querySelector() and other DOM API methods to convert</span>
        <span class="token comment">// the text content to the currency from this.getAttribute("to").</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><ul><li>For server rendered markup, <code>&LTconvert-currency></code> will render just fine, and <code>10</code> with it. Browsers will just ignore it when parsing the HTML.<li>When parsing is done and JS kicks in, weâ€™ll â€œenrichâ€ our custom element with logic.</ul><p>My takeaway is that custom elements and Web Components give us a declarative way to encapsulate logic (duh, â€œcomponentsâ€ itâ€™s in the name), which creates whole new patterns in how to approach component style architecture but <em>without</em> any 3rd party JS component library.</div><footer class=mt3><a class=f5 href=/mind> <span class="BackLink mr1"aria-hidden=true>â†</span> All micro notes </a></footer></article></main><footer role=contentinfo><nav><ul><li><a href=/>Home</a><li><a href=/feed.xml title=Atom>Post feed</a><li><a href=/micro.xml title=Atom>Micro feed</a><li><a href=/reading.xml title=Atom>Reading feed</a></ul></nav></footer></div><nav class=MainNav role=navigation><div class=sticky><h1 class="f4 sr-only-mobile"><a aria-label=Home href=/> <span>Johan Brook</span><span class="BackLink ml2"aria-hidden=true>â†</span> </a></h1><ul><li class=only-mobile><a href=/>Home</a><li><a href=/now/>Now</a><li><a href=/mind/>Micro</a><li><a href=/about/>About</a><li><a href=/reading/>Reading</a><li><a href=/writings/>Writings</a></ul><details><summary class="mv1 font-sans f5 muted link fw5">View more</summary> <ul><li><a href=/to-read/>To read</a><li><a href=/quotes/>Quotes</a><li><a href=/changelog/>Changelog</a><li><a href=/credits/>Credits</a></ul></details></div></nav></div><script>if(window.location.host!==new URL('https://johan.im').host){window.goatcounter={no_onload:true}};if(window.location.hash==='#skipgc')localStorage.setItem('skipgc','t');if(localStorage.getItem('skipgc')==='t')window.goatcounter={no_onload:true}</script><script async data-goatcounter=https://johanbrook.goatcounter.com/count src=//gc.zgo.at/count.js></script>