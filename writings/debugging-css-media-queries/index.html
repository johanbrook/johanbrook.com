<!doctype html><html class=writingsdebugging-css-media-queries lang=en-gb><head itemscope itemtype=http://schema.org/Blog><title>Debugging CSS Media Queries / Johan Brook</title><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><link href=https://gc.zgo.at rel=preconnect><link href=https://johanbrook.goatcounter.com rel=preconnect><meta content="In Responsive Web Design we’re working with different states, widths, and viewport sizes. Fluidity and adaptive behavior is a hot subject nowadays, and it’s perfectly justified when looking at today’s mobile browser landscape. We achieve this with CSS’s Media Queries. But sometimes it can be messy – I’m gonna share a quick tip for indicating (with pure CSS) which media query that has actually kicked in."name=description><meta content="CSS,CSS3,Media Queries,Responsive Web Design,Sass,SCSS,Viewports"name=keywords><meta content="Johan Brook"name=author><link href=/johan.css rel=stylesheet><link title="Johan Brook: Posts feed"href=/feed.xml rel=alternate type=application/atom+xml><link title="Johan Brook: Mind feed"href=/mind.xml rel=alternate type=application/atom+xml><link title="Johan Brook: Book feed"href=/reading.xml rel=alternate type=application/atom+xml><link rel="shortcut icon"href=/favicon.png type=image/png><link href=https://johan.im/writings/debugging-css-media-queries/ itemprop=url rel=canonical><link href=https://johan.im rel=author><link href=https://hachyderm.io/@brookie rel=me><meta content="Debugging CSS Media Queries"property=og:title><meta content=https://johan.im/writings/debugging-css-media-queries/ property=og:url><meta content="Johan Brook"itemprop=name property=og:site_name><meta content=en_GB property=og:locale><meta content="In Responsive Web Design we’re working with different states, widths, and viewport sizes. Fluidity and adaptive behavior is a hot subject nowadays, and it’s perfectly justified when looking at today’s mobile browser landscape. We achieve this with CSS’s Media Queries. But sometimes it can be messy – I’m gonna share a quick tip for indicating (with pure CSS) which media query that has actually kicked in."property=og:description><meta content=article property=og:type><meta content="CSS,CSS3,Media Queries,Responsive Web Design,Sass,SCSS,Viewports"property=article:tag><meta content=2011-05-11T00:00:00Z property=article:published_time><body><a class="visually-hidden skip-link"href=#main>Skip to content</a><div class=Content><div id=main><main role=main><article class=Post itemscope itemtype=http://schema.org/BlogPosting role=article><header><h1 class=title itemprop=name>Debugging CSS Media Queries</h1><p class="mb0 fw5 mt3"><time datetime=2011-05-11T00:00:00Z itemprop=datePublished pubdate> May 11th, 2011 </time><p class="f5 mb4 font-sans muted">About 3 min reading time</header><div class=prose itemprop=articleBody><p><strong>In Responsive Web Design</strong> we’re working with different states, widths, and viewport sizes. Fluidity and adaptive behavior is a hot subject nowadays, and it’s perfectly justified when looking at today’s mobile browser landscape. We achieve this with CSS’s Media Queries. But sometimes it can be messy — I’m gonna share a quick tip for indicating (with pure CSS) which media query that has actually kicked in.<h2>The problem</h2><p>When I’m in the early markup stage of a site project I usually lay out a solid, fluid grid foundation to build upon. I’m carving out the different sections of the design in rough code and am also playing around with some media queries — deciding how many to use and how. Some debug stuff is used; boxes that change colour when different media queries fires, and so on. But I sort of wanted a more slick way of visually showing when the media queries fired, and I created one. It’s dead simple – no fancy stuff — but it works. I also have no idea wether it’s already been done or not.<p><a href=http://playground.johanbrook.com/css/mediaquerydebug.html>Media Query debugger demo</a><h2>Code</h2><p>Here’s a basic media query targeting mainly tablets:<pre><code>@media only screen and (min-width: 768px) and (max-width: 979px){ body{ /* code */ } }
</code></pre><p>It’ll kick in when the viewport is in between 768px and 979px. Nothing weird, you write the CSS as usual. However, check out the code below:<pre><code>@media only screen and (min-width: 768px) and (max-width: 979px){ body{ /* code */ } body::before{ content: "Tablet media query (768 < 979) fired"; font-weight: bold; display: block; text-align: center; background: rgba(255,255,0, 0.9); /* Semi-transparent yellow */ position: absolute; top: 0; left: 0; right: 0; z-index: 99; } }
</code></pre><p>Using the <code>::before</code> pseudo selector, I created a phantom element with some descriptive content and styling which lies on top of the web page. That’s it! Here’s a <a href=http://playground.johanbrook.com/css/mediaquerydebug.html>demo</a>.<p>With this you can separate media queries in a quick, clear, and effortless way. You can replicate this in Javascript, of course, and maybe also patch one issue I’ve come across: if several media queries overlap each other, only one indicator bar will be shown.<p>It may also be clever to use this in a “debug mode”, i.e. apply a <code>debug</code> class to the <code>body</code> element, and go on and write:<pre><code>body.debug::before{ /* .. all the stuff .. */ }
</code></pre><p>Now you’re able to quickly activate and deactivate the indicator bars. Applying a body class would also let use reuse some of the code described above (it would be tedious to write all that stuff over and over again).<h2>More: For Sass users</h2><p>I love <a href=http://sass-lang.com>Sass</a>. I use it every day, and can’t imagine writing larger chunks of CSS without it. For this example, Sass would be a perfect fit (for a quick course, check out the project’s website and tutorial).<h3>Reuse the debug message</h3><p>The CSS for the indicator bars could be made into a <a href=http://sass-lang.com/tutorial.html#mixins>mixin</a>. Mixins are essentially chunks of CSS code you can include anywhere in the document (great for reusability), and you call them in a manner not too different from function calls.<pre><code>@mixin debugmessage($message, $color: rgba(255,255,0, 0.9) ){ &::before{ content: $message; font-weight: bold; display: block; text-align: center; background: #{$color}; position: absolute; right: 0; left: 0; top: 0; z-index: 99; } }
</code></pre><p>It’s exactly the same code as the first pure CSS example, but I’ve replaced the <code>content</code> and <code>background</code> values with to arguments. The mixin is later included in the media query:<pre><code>@media only screen and (min-width: 768px) and (max-width: 979px){ body{ @include debugmessage("Tablet media query fired"); } }
</code></pre><p>Simple right? It’s clean, nice and <strong>reusable</strong>. I’m also able to go ahead and send a different colour along with the mixin (right now, semi-transparent yellow is default if no other argument is given):<pre><code>@include debugmessage("Tablet media query fired", "red");
</code></pre><h3>Debug mode</h3><p>Thanks to Sass’ variables, I’m able to declare a global, top-scope variable at the top of my Sass sheets called <code>$DEBUG</code> to keep track of thingss. During development I set it to <code>true</code> . This trick is handy when writing things you might want to turn off when the site launches:<pre><code>@if($DEBUG == true){ @include debugmessage("Mobile media query fired", "orange"); }
</code></pre><p>There. Even better, right?<h2>Outro</h2><p>I randomly created this during a project, and it’s a quick and dirty way of detecting different viewport widths. Give it a spin, and give me a shout ( <a href=http://twitter.com/johanbrook>@johanbrook</a>) if you have any thoughts.</div></article></main><footer role=contentinfo><nav><ul><li><a href=/>Home</a><li><a href=/feed.xml title=Atom>Post feed</a><li><a href=/micro.xml title=Atom>Micro feed</a><li><a href=/reading.xml title=Atom>Reading feed</a></ul></nav></footer></div><nav class=MainNav role=navigation><div class=sticky><h1 class="f4 sr-only-mobile"><a aria-label=Home href=/> <span>Johan Brook</span><span class="BackLink ml2"aria-hidden=true>←</span> </a></h1><ul><li class=only-mobile><a href=/>Home</a><li><a href=/now/>Now</a><li><a href=/mind/>Micro</a><li><a href=/about/>About</a><li><a href=/reading/>Reading</a><li><a href=/writings/>Writings</a></ul><details><summary class="mv1 font-sans f5 muted link fw5">View more</summary> <ul><li><a href=/to-read/>To read</a><li><a href=/quotes/>Quotes</a><li><a href=/changelog/>Changelog</a><li><a href=/credits/>Credits</a></ul></details></div></nav></div><script>if(window.location.host!==new URL('https://johan.im').host){window.goatcounter={no_onload:true}};if(window.location.hash==='#skipgc')localStorage.setItem('skipgc','t');if(localStorage.getItem('skipgc')==='t')window.goatcounter={no_onload:true}</script><script async data-goatcounter=https://johanbrook.goatcounter.com/count src=//gc.zgo.at/count.js></script>