<!doctype html><html class=writingswebkit-to-get-css-variables-mixins-nesting lang=en><head itemscope itemtype=http://schema.org/Blog><title>webkit to get css variables, mixins, nesting? / johan brook</title><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><link as=font crossorigin=anonymous href=/assets/fonts/inter/Inter-italic.var.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=/assets/fonts/inter/Inter-roman.var.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=/assets/fonts/jetbrains-mono/JetBrainsMono-Regular.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=/assets/fonts/jetbrains-mono/JetBrainsMono-Bold.woff2 rel=preload type=font/woff2><link href=https://gc.zgo.at rel=preconnect><link href=https://johanbrook.goatcounter.com rel=preconnect><meta content="I'm a twenty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."name=description><meta content="CSS,Less,mixins,nested rules,Sass,variables,Webkit"name=keywords><meta content="Johan Brook"name=author><link href=/johan.css rel=stylesheet><link title="Johan Brook: Posts feed"href=/feed.xml rel=alternate type=application/rss+xml><link title="Johan Brook: Mind feed"href=/mind.xml rel=alternate type=application/rss+xml><link title="Johan Brook: Book feed"href=/reading.xml rel=alternate type=application/rss+xml><link rel="shortcut icon"href=/favicon.png type=image/png><link href=https://johan.im/writings/webkit-to-get-css-variables-mixins-nesting/ itemprop=url rel=canonical><link href=https://johan.im rel=author><meta content="Webkit to get CSS variables, mixins, nesting?"property=og:title><meta content=https://johan.im/writings/webkit-to-get-css-variables-mixins-nesting/ property=og:url><meta content="Johan Brook"itemprop=name property=og:site_name><meta content=en_GB property=og:locale><meta content="I'm a twenty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."property=og:description><meta content=article property=og:type><meta content="CSS,Less,mixins,nested rules,Sass,variables,Webkit"property=article:tag><meta content=2011-01-17T00:00:00Z property=article:published_time><body><div class=Content><nav class=MainNav role=navigation><h1 class=f4><a aria-label=Home href=/> <span class="BackLink mr2"aria-hidden=true>←</span><span>Johan Brook</span> </a></h1><ul class=NavCommon><li aria-current=page><a href=/writings/>Writings</a><li><a href=/mind/>On my mind</a><li><a href=/now/>Now</a><li><a href=/reading/>Reading</a><li><a href=/about/>About me</a></ul></nav><div><main role=main><article class=Post itemscope itemtype=http://schema.org/BlogPosting role=article><header><h1 class="fw6 pt3"itemprop=name>Webkit to get CSS variables, mixins, nesting?</h1><p class="mb0 fw5 mt3"><time datetime=2011-01-17T00:00:00Z itemprop=datePublished pubdate> January 17th, 2011 </time><p class="muted f5 mb4">About 3 min reading time</header><div class=prose itemprop=articleBody><p class="f3 mb4 no-rhythm"><a class=btn href=http://www.xanthir.com/talks/2011-01-12/slides.html title=http://www.xanthir.com/talks/2011-01-12/slides.html>Follow link to xanthir.com →</a><p><a href=http://twitter.com/tabatkins>Tab Atkins</a> of Google has made a couple of slides (navigate with the arrow keys) explaining a couple of possible upcoming features to Webkit: CSS variables, mixin blocks and selector nesting. That's pretty huge, given that people have been screaming for those features for years and years. Hell, a couple of smart guys even wrote scripts to compile (yeah, <em>compile</em>) their own form of CSS syntax to regular CSS ( <a href=http://sass-lang.com>Sass</a> and <a href=http://lesscss.org/>Less</a>).<p>According to Atkins' slides the features are very experimental, and we probably won't see them until the end of the year. I'm gonna talk about the three most sought after features: variables, mixins and nesting.<p><em>This article is also translated to <a href=http://science.webhostinggeeks.com/desing-css>Serbo-Croatian</a> language by Anja Skrba from <a href=http://webhostinggeeks.com/>Webhostinggeeks.com</a></em><h2>Variables</h2><p>The syntax of CSS variables brought up in the presentation is as follows:<pre><code>@var header-color color #006;
@var main-color color #06c;
@var secondary-color color #c06;

a { color: var(main-color); }
</code></pre><p>The corresponding Sass syntax would be:<pre><code>$header-color: #006;
$main-color: #06c;
$secondary-color: #c06;

a { color: $main-color; }
</code></pre><p>You declare with the keyword <code>@var</code> , then the name and last the value. You insert the variable by writing <code>var(var-name)</code> . Pretty straight-forward, but personally I find the syntax a bit awkward. Why the need for the <code>@var</code> keyword? Why not just <code>@var-name</code> ? Why no colon between the variable name and the value? And why the tedious <code>var(variable-name)</code> construction?<p>Variables are great. I use them every day in Sass, but I'd be happy to see a less clunky syntax.<h2>Mixins</h2><p>Mixins are blocks of code you may include anywhere in the document. It's great for code reuse, and to get away from non-semantic classes in your HTML code. A prime example is the clearfix method: instead of applying a <code>clearfix</code> class to an HTML element, just write (in Sass) <code>@include clearfix;</code> in the stylesheet for that element. Nice and clean.<p>In the proposed CSS syntax you declare mixins by writing:<pre><code>@mixin error {
   background: #fdd;
   color: red;
   font-weight: bold;
}

div.error {
   border: thick solid red;
   padding: .5em;
   @mixin error;
}
</code></pre><p>It's a really slick way to reuse code. Growing sick of writing <a href=http://jnbrk.se/fp7c68>long, messy CSS3 gradient code?</a> Just define a mixin with some parameters and include it where appropriate. This syntax is alright, though I find the parameter declaration a bit weird.<h2>Nesting</h2><p>When writing regular CSS you can't nest selectors. That is, you can't step down in the DOM hierarchy without having to write all the parent selectors again, like this:<pre><code>#main > header > h1{
   font-size: 2em;
   background: blue;
   color: white;
}
#main > header > h1 > a{
   color: #ddf;
}
#main > header > h1 > a:visited{
   color: #fdf;
}
</code></pre><p>I hate this kind of writing. It feels so unnecessary and unintuitive. Atkins has proposed this syntax:<pre><code>#main > header > h1 {
  font-size: 2em;
  background: blue;
  color: white;

  @this > a {
    color: #ddf;

    @this:visited {
      color: #fdf;
    }
  }
}
</code></pre><p>This feels more natural and flexible. Changing the id attribute of the header? No problem, just change at one place in the code. The syntax in Sass and Less isn't too far away from this one either.<h2>Outro</h2><p>I've been using Sass since last summer, and I always make use of it for every project by now. Since you compile to regular CSS, there are no compability issues whatsoever. The question is: if these fancy features would make into Safari and Chrome sometime in the future, how would we handle the stylesheets for Firefox, Internet Explorer and Opera? Separate ones? Nope, I wouldn't think so. It has to be a standard to work out, and we all know that the working groups are slooow to decide things.<p>For now Sass works great for me, but I think it's time to make a serious attempt to push the features "into the broad mass". To see some cleaner stylesheets out on the interwebz would be a godsend gift.</div></article></main><footer class=mb3 role=contentinfo><nav><ul class=mb3><li><a href=/>Home</a><li><a href=mailto:webmaster@johan.im rel=me>Email</a><li><a href=https://hachyderm.io/@brookie rel=me>Mastodon</a><li><a href=/feed.xml title=Atom>Post feed</a><li><a href=/mind.xml title=Atom>Mind feed</a><li><a href=/reading.xml title=Atom>Reading feed</a><li><a href=/credits>Credits</a><li><a href=/changelog>Changelog</a></ul></nav><p class="muted mb0">Using <a class=font-mono href=https://github.com/johanbrook/johanbrook.com/commit/cdc4bd2c9cc82b64745f8e4e9c21f595599e5f75>cdc4bd2</a> — built at <time>2023-03-19T21:03:02.831Z</time> — web 1.0 and 2.0 compatible.</footer></div></div><script>if(window.location.host!==new URL('https://johan.im').host){window.goatcounter={no_onload:true}};if(window.location.hash==='#skipgc')localStorage.setItem('skipgc','t');if(localStorage.getItem('skipgc')==='t')window.goatcounter={no_onload:true}</script><script async data-goatcounter=https://johanbrook.goatcounter.com/count src=//gc.zgo.at/count.js></script>