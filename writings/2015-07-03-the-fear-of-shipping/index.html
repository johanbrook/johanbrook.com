

<!DOCTYPE html>
<html lang="en" class=" shipped-with-fear">

  <head itemtype="http://schema.org/Blog" itemscope="">
    <title>Shipped with fear – Johan Brook</title>

    <meta charset="utf-8">

    
    <meta name="description" content="My thoughts on deploying code to production.">
    
    <meta name="keywords" content="sysops,devops,deploying,shipping,code">
    <meta name="author" content="Johan Brook">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Styles-->
    <link rel="stylesheet" href="/assets/css/johan.css">
  

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="Johan's RSS feed" href="/rss.xml">

    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="canonical" itemprop="url" href="https://johanbrook.com/writings/2015-07-03-the-fear-of-shipping/">
    <link rel="author" href="https://johanbrook.com">

    <meta property="og:title" content="Shipped with fear">
    <meta property="og:url" content="https://johanbrook.com/writings/2015-07-03-the-fear-of-shipping/">
    <meta property="og:site_name" itemprop="name" content="Johan Brook">
    <meta property="og:type" content="blog">
    <meta property="og:image" content="https://johanbrook.com/http://johanbrook.com/assets/posts/fear-of-shipping-ogimage.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1200">
    
    <meta property="og:description" content="My thoughts on deploying code to production.">
    

    
  </head>

  <body>

    
      <nav role="navigation" class="SideNav">
  <h1 class="f3">
    <a href="/">Johan Brook</a>
  </h1>
  <ul>
    <li class="">
      <a href="/writings">Writings</a>
    </li>
    <li class="">
      <a href="/now">Now</a>
    </li>
    <li class="">
      <a href="/about">About me</a>
    </li>
    <li class="">
      <a href="/contact" title="Contact and stuff">On the web</a>
    </li>
    <li class="">
      <a href="/changelog" title="What's happened in my life so far">Changelog</a>
    </li>
    <li class="">
      <a href="/credits" title="Licenses and stuff.">Credits</a>
    </li>
    <li>
      <a href="/feed.xml">Feed</a>
    </li>
  </ul>
</nav>

    

    

<main role="main">
  <article class="Post Post--Regular" role="article" itemscope="" itemtype="http://schema.org/BlogPosting">

    
      <header> 
        <h1 itemprop="name" class="title ">Shipped with fear</h1>

        <p class="mb0 fw5 mt3">
          
          <time datetime="2015-07-05T10:00:00.000Z" itemprop="datePublished" title="5 years ago" pubdate="">July 5, 2015 – 10:00</time>
        </p>

        <p class="muted mb4">
          About 3 min reading time
        </p>
      </header>
    

    <div class="article-text post__body measure" itemprop="articleBody">
      <p><strong>There is a thing that</strong> every developer has to do at some point&thinsp;&mdash;&thinsp;ship. By ship I refer to the act of <em>deploying, pushing the button, publishing your work for a wide mass</em>. This act is central in our industry: blog posts like this one have been written, there have been talks on the subjects, and methodologies (like Continous Delivery, Continous Integration) invented to deal with the pain points associated with shipping. Hell, there are even roles (devops, sysops) for easening the burden of moving code from one system to another. Why, oh why are we conscious and sometimes afraid of shipping our work?</p>
<h2>Environments of success</h2>
<p>At <a href="http://lookback.io">Lookback</a>, we try to continously ship stuff to production. We’ve got three environments: <em>testing</em>, <em>staging</em>, and <em>production</em>. Nothing unusual. We use feature branches that we independently deploy to any of these environments. We merge to master, which is considered stable, when we’ve conﬁrmed the bug or feature. This means we can comfortably try out things in testing and staging and be somewhat sure of that it’ll work in production, as long as things like environment variables and database migrations have run (note how I casually mentioned those potentially <em>big</em> factors?). We’ve got a script for rolling back to the version before the deployed bundle, in case hell breaks loose and we need to quickly restore.</p>
<p>That’s the background.</p>
<h2>An anecdote</h2>
<p>The thing is: everybody screw up sometime. It might be a premature deploy before thorough QA, poorly written code which crash in other environments than your own. There are many reasons. But the important thing is <em>not to let it get to you</em>.</p>
<p>Don’t tell my team mates, but some nights ago I deployed code that broke the emoji feature in our production web app. It was a regular expression that went haywire for some production data I had neglected, and I quickly rolled back, branched off (this was already merged to master), and continued to push code to the testing environment (with <em>real</em> data this time).</p>
<p>This has happened many times before, and every time I feel kind of slapped in the face. Brought down to earth again. It’s like somebody’s saying <em><span class="push-double"></span><span class="pull-double">“</span>Hey, sonny boy! Don’t walk around thinkin’ you can casually push to production without something going wrong! It’s bound to happen, ya know”</em>. And after every time I tend to be much less liberal in my deploys to production (until I forget about the incident).</p>
<p>I often compare this with how it was when I was a kid, and went skiing downhill (who am I kidding, I still feel like this at grown age). I would be cocky and go down this huge hill and get totally pounded. <em><span class="push-double"></span><span class="pull-double">“</span>Hey kid! Don’t fucking think you’re gonna be able to go down here ten times without falling once! It’s bound to happen, ya know”</em>. I’d then have deep respect for the hill, and be afraid to go up there, since I was burned once.</p>
<p>See the similarity?</p>
<h2>What to do</h2>
<p>I must never, ever become afraid to deploy. The best medicin is to do it often: small, atomical ﬁxes and features that will get your spirit up again&thinsp;&mdash;&thinsp;to conﬁrm that you’re still okay. The worst thing that can happen (engineering wise) in a fast moving startup is loss of momentum&thinsp;&mdash;&thinsp;that we stop deploying to our customers. That we collect these balls of code mud which we push after testing them internally for some weeks or <em>months</em>. Especially for the web, which is ideal for continously dark deploying to (transparent changes, no need to update any native app code).</p>
<p>But of course: my aim as a developer is to be able to write such solid systems that don’t causes major breakage when deployed. I want to be able to trust myself and the workﬂow well enough to be sure and conﬁdent when deploying. Some good recipes for that is the aforementioned environment setup (“test ﬁrst&thinsp;&mdash;&thinsp;conﬁrm on staging&thinsp;&mdash;&thinsp;deploy to production”), solid QA, code reviews, and so on.</p>
<hr>
<p>Developers fear change, new things, refactoring, deploying. But we must constantly expose ourselves to this in order to grow and win over those fears, and learn how to make the wise decision when the day comes to make a really big, important decision.</p>

    </div>

    <footer>
      
        <p class="f5 comp-grey mt5 pb3 border border-b">
          <b class="mr1">Keywords</b> <span class="Post-Keyword">sysops</span><span class="Post-Keyword">devops</span><span class="Post-Keyword">deploying</span><span class="Post-Keyword">shipping</span><span class="Post-Keyword">code</span>
        </p>
      

      

      <p class="mt3">
        <a href="/writings" class="btn">&lt;- More writings</a>
      </p>
    </footer>
  </article>
</main>


    <script type="text/javascript">
      function init() {
        addClasses();

        function first(array, n, guard) {
          if (array == null) return void 0;
          if (n == null || guard) return array[0];

          return [].slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
        };

        function transform(text) {
          const DELIMITER = /\.|,/;
          const sentences = text.split('.');
          const index = text.search(DELIMITER);
          const MAX_WORDS = 6;

          function wrap(w, t) {
            return `<strong>${w}</strong> ${t}`;
          }

          if (index > -1 && index <= 50) {
            return wrap(text.split(DELIMITER)[0], text.substring(index));
          }

          const words = text.split(' ');
          const first = words.splice(0, MAX_WORDS);

          return wrap(first.join(' '), words.join(' '));
        };

        const paragraphs = document.querySelectorAll('.posts article .post__body p');

        [].slice.call(paragraphs).forEach(function (p) {
          if (p.firstChild && (!p.firstChild.tagName || p.firstChild.tagName !== 'STRONG')) {
            p.innerHTML = transform(p.innerText);
          }
        });
      };

      function addClasses() {
        const p = document.querySelectorAll('.post article .post__body p');
        p.length > 0 && p[0].classList.add('ingress');
      };

      document.addEventListener('DOMContentLoaded', init, false);
    </script>

    <script>
  // Only load on production environment.
  if (window.location.host !== 'johanbrook.com')
    window.goatcounter = {no_onload: true};

  // Skip own views
  if (window.location.hash === '#skipgc')
    localStorage.setItem('skipgc', 't');
  if (localStorage.getItem('skipgc') === 't')
    window.goatcounter = {no_onload: true};
</script>
<script data-goatcounter="https://johanbrook.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

  </body>

</html>
