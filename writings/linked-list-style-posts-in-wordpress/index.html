<!doctype html><html class=writingslinked-list-style-posts-in-wordpress lang=en><head itemscope itemtype=http://schema.org/Blog><title>linked list style posts in wordpress / johan brook</title><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><link as=font crossorigin=anonymous href=/assets/fonts/inter/Inter-italic.var.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=/assets/fonts/inter/Inter-roman.var.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=/assets/fonts/jetbrains-mono/JetBrainsMono-Regular.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=/assets/fonts/jetbrains-mono/JetBrainsMono-Bold.woff2 rel=preload type=font/woff2><link href=https://gc.zgo.at rel=preconnect><link href=https://johanbrook.goatcounter.com rel=preconnect><meta content="hsl(173 7% 94%)"media="(prefers-color-scheme: light)"name=theme-color><meta content="hsl(173 7% 13%)"media="(prefers-color-scheme: dark)"name=theme-color><meta content="I'm a twenty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."name=description><meta content="Custom fields,Functions.php,RSS"name=keywords><meta content="Johan Brook"name=author><link href=/johan.css rel=stylesheet><link title="Johan Brook: Posts feed"href=/feed.xml rel=alternate type=application/rss+xml><link title="Johan Brook: Mind feed"href=/mind.xml rel=alternate type=application/rss+xml><link title="Johan Brook: Book feed"href=/reading.xml rel=alternate type=application/rss+xml><link rel="shortcut icon"href=/favicon.png type=image/png><link href=https://johan.im/writings/linked-list-style-posts-in-wordpress/ itemprop=url rel=canonical><link href=https://johan.im rel=author><meta content="Linked List style posts in Wordpress"property=og:title><meta content=https://johan.im/writings/linked-list-style-posts-in-wordpress/ property=og:url><meta content="Johan Brook"itemprop=name property=og:site_name><meta content=en_GB property=og:locale><meta content="I'm a twenty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."property=og:description><meta content=article property=og:type><meta content="Custom fields,Functions.php,RSS"property=article:tag><meta content=2010-10-27T00:00:00Z property=article:published_time><body><a class="visually-hidden skip-link"href=#main>Skip to content</a><div class=Content><nav class=MainNav role=navigation><h1 class=f4><a aria-label=Home href=/> <span class="BackLink mr2"aria-hidden=true>←</span><span>Johan Brook</span> </a></h1><ul class=NavCommon><li aria-current=page><a href=/writings/>Writings</a><li><a href=/mind/>On my mind</a><li><a href=/now/>Now</a><li><a href=/reading/>Reading</a><li><a href=/about/>About me</a></ul></nav><div id=main><main role=main><article class=Post itemscope itemtype=http://schema.org/BlogPosting role=article><header><h1 class=title itemprop=name>Linked List style posts in Wordpress</h1><p class="mb0 fw5 mt3"><time datetime=2010-10-27T00:00:00Z itemprop=datePublished pubdate> October 27th, 2010 </time><p class="muted f5 mb4">About 2 min reading time</header><div class=prose itemprop=articleBody><p><strong>Quite a few people</strong> use this style of quick links or short posts (myself included). Daring Fireball, Shawn Blanc and others. When linking to an article of site, the post heading itself becomes the link. It’s quite good usability and UX, and is not that hard to re-create in Wordpress.<p>When I attach links to my custom post type for short posts, Quickies, I use custom fields in Wordpress. I’ve got two fields for link: “Link” and “Link Name”. The “Link” field contains the URL and is the important one here. In the post template (in my case <code>single-quickie.php</code> you can get the custom field with this:<pre><code>$meta_link = get_post_meta(get_the_ID(), "Link", true);
</code></pre><p>Where “Link” is the custom field name. After that, it’s just a matter of inserting it in the post’s heading tag:<pre><code>&LTh1>
   &LT?php if($meta_link):?>
      &LTa title="follow link" href="&LT?php echo $meta_link;?>"> &LT?php the_title();?> ›&LT/a>
   &LT?php else: ?>
      &LT?php the_title();?>
   &LT?php endif;?>
&LT/h1>
</code></pre><p>There we go. If there’s a link attached to the post, create an <code>&LTa></code> element for it inside the heading. But how do we work this out for RSS readers? Many people (myself included again) usually read posts directly from within the reader, and Wordpress automatically makes the RSS heading link point to the post’s permalink — not our custom link. Check it out next time you’re reading a Daring Fireball linked post: when you click on the main heading you’re instantly taken to the link he’s talking about. How to create this in Wordpress? I first tried to hack the RSS file, <code>feed-rss2.php</code> but that’s seldom a good thing. You should leave the core files alone. Instead, you can filter the template tag for outputting the RSS heading in your <code>functions.php</code> :<pre><code>function johan_permalink_rss($content) { 
   global $wp_query; 
   $postid = $wp_query->post->ID; 
   $link = get_post_meta($postid, 'Link', true); 

   if(is_feed()) { 
      if($link !== '') { 
         $content = $link; 
      } else { 
         $content = get_permalink($postid); 
      } 
   } 
   
   return $content; 
} 

add_filter('the_permalink_rss', 'johan_permalink_rss');
</code></pre><p>As you can see it creates a function with the original content in the parameter. It finds the current post’s id and the attached link. If it’s a feed and if it’s a link attached, go ahead and make the RSS permalink ( <code>$content</code> ) the value of the custom link. Return the value and add a filter for the <code>the_permalink_rss</code> used in Wordpress’ RSS parsing file.<p>Not that hard, right?</div></article></main><footer class=mb3 role=contentinfo><nav><ul class=mb3><li><a href=/>Home</a><li><a href=mailto:webmaster@johan.im rel=me>Email</a><li><a href=https://hachyderm.io/@brookie rel=me>Mastodon</a><li><a href=/feed.xml title=Atom>Post feed</a><li><a href=/mind.xml title=Atom>Mind feed</a><li><a href=/reading.xml title=Atom>Reading feed</a><li><a href=/credits>Credits</a><li><a href=/changelog>Changelog</a></ul></nav><p class="muted mb0">Using <a class=font-mono href=https://github.com/johanbrook/johanbrook.com/commit/5994704f2646b9598c34c2d9d2658276f9ea8613>5994704</a> — built at <time>2023-05-04T05:24:17.142Z</time> — web 1.0 and 2.0 compatible.</footer></div></div><script>if(window.location.host!==new URL('https://johan.im').host){window.goatcounter={no_onload:true}};if(window.location.hash==='#skipgc')localStorage.setItem('skipgc','t');if(localStorage.getItem('skipgc')==='t')window.goatcounter={no_onload:true}</script><script async data-goatcounter=https://johanbrook.goatcounter.com/count src=//gc.zgo.at/count.js></script>