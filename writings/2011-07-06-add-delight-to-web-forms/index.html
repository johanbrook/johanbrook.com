

<!DOCTYPE html>
<html lang="en" class=" add-delight-to-web-forms-with-code-sample">

  <head itemtype="http://schema.org/Blog" itemscope="">
    <title>Add delight to web forms (with code sample) – Johan Brook</title>

    <meta charset="utf-8">

    
    <meta name="description" content="I&#39;m a twenty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I’m coding &amp; designering and I like working with product, user experience, interface design, and other things too.">
    
    <meta name="keywords" content="Ajax,city,form,HTML,Javascript,jQuery,JSON,postal code,User Experience">
    <meta name="author" content="Johan Brook">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Styles-->
    <link rel="stylesheet" href="/assets/css/johan.css">
  

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="Johan's RSS feed" href="/rss.xml">

    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="canonical" itemprop="url" href="https://johanbrook.com/writings/2011-07-06-add-delight-to-web-forms/">
    <link rel="author" href="https://johanbrook.com">

    <meta property="og:title" content="Add delight to web forms (with code sample)">
    <meta property="og:url" content="https://johanbrook.com/writings/2011-07-06-add-delight-to-web-forms/">
    <meta property="og:site_name" itemprop="name" content="Johan Brook">
    <meta property="og:type" content="blog">
    <meta property="og:image" content="https://johanbrook.com">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1200">
    

    
  </head>

  <body>

    
      <nav role="navigation" class="SideNav">
  <h1 class="f3">
    <a href="/">Johan Brook</a>
  </h1>
  <ul>
    <li class="">
      <a href="/writings">Writings</a>
    </li>
    <li class="">
      <a href="/now">Now</a>
    </li>
    <li class="">
      <a href="/about">About me</a>
    </li>
    <li class="">
      <a href="/contact" title="Contact and stuff">On the web</a>
    </li>
    <li class="">
      <a href="/changelog" title="What's happened in my life so far">Changelog</a>
    </li>
    <li class="">
      <a href="/credits" title="Licenses and stuff.">Credits</a>
    </li>
    <li>
      <a href="/feed.xml">Feed</a>
    </li>
  </ul>
</nav>

    

    

<main role="main">
  <article class="Post Post--Regular" role="article" itemscope="" itemtype="http://schema.org/BlogPosting">

    
      <header> 
        <h1 itemprop="name" class="title ">Add delight to web forms (with code sample)</h1>

        <p class="mb0 fw5 mt3">
          
          <time datetime="2011-07-06T09:54:00.000Z" itemprop="datePublished" title="9 years ago" pubdate="">July 6, 2011 – 09:54</time>
        </p>

        <p class="muted mb4">
          About 3 min reading time
        </p>
      </header>
    

    <div class="article-text post__body measure" itemprop="articleBody">
      <p>Marking up and styling forms in HTML and CSS is something you either love or hate. Personally I love it, since it’s one of these things I can be really nitty-picky with&thinsp;&mdash;&thinsp;to iterate and iterate over the appearance and behavior of the form.<span class="push-double"></span> <span class="pull-double">“</span>Is this simple enough? Is this section necessary? Should we separate this from that?”, and so on.</p>
<p>I also love the small details in forms where the regular visitor in me thinks<span class="push-double"></span> <span class="pull-double">“</span>Huh, that’s neat of the form to do that for me”, and the web developer in me raises a smile and a quiet chuckle. A great example is the ordering form for <a href="https://www.panic.com/transmit/buy.html">Panic’s Transmit</a>.</p>
<h2>Exhibit A:<span class="push-double"></span> <span class="pull-double">“</span>How many copy may I get you?”</h2>
<p><a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-1-copy.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-1-copy.png" alt="Panic Transmit"> </a> Everything looks as it should do. Nothing unusual. <a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-3-copies.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-3-copies.png" alt="Panic Transmit"> </a> Try changing the amount of copies, and watch the grammar of the sentence change as well. Also: switch between the<span class="push-double"></span> <span class="pull-double">“</span>Transmit 4” and<span class="push-double"></span> <span class="pull-double">“</span>Transmit 4 Upgrade” options and see the sentences change.</p>
<p>That’s cool, isn’t it? Those small details which really feel logical&thinsp;&mdash;&thinsp;<em>how it should be done everywhere</em>. It’s quite interesting that we’re stunned over these kind of details when it should be obvious for a web developer to implement this. This is how we expect forms to work.</p>
<h2>Exhibit B:<span class="push-double"></span> <span class="pull-double">“</span>Are we there yet?”</h2>
<p>In the same form, scroll to the bottom and you’ll ﬁnd the submit button disguised as a progress meter. It’ll update live as you complete the form, giving you instant feedback on the eternal question:<span class="push-double"></span> <span class="pull-double">“</span>Did I get<span class="push-single"></span> <span class="pull-single">’</span>em all now?”.</p>
<p><a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Process.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Process.png" alt="Panic Transmit"> </a> <a href="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Done.png"> <img src="http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Done.png" alt="Panic Transmit"> </a></p>
<p>I’m sure there are a ton of cases like these all over the websites belonging to hip companies.</p>
<h2>A quick example of nice UX:</h2>
<p>Automatically fetch the city based on a postal code
How to you add delight to a form, without writing a whole jQuery plugin for it? Let’s say you have a sign up form which includes a postal code and city.</p>
<pre><code>&lt;form method=&quot;POST&quot; action=&quot;&quot;&gt;
	&lt;label&gt;Postal code 
		&lt;input type=&quot;text&quot; placeholder=&quot;810 20&quot; id=&quot;postal-code&quot; /&gt;
	&lt;/label&gt;
	
	&lt;label&gt;City 
		&lt;input type=&quot;text&quot; placeholder=&quot;City&quot; id=&quot;city&quot; /&gt;
	&lt;/label&gt;
&lt;/form&gt;
</code></pre>
<p>That code would produce this:</p>
<p>Postal code</p>
<p>City</p>
<p>Nothing weird going on. Now imagine if we could automatically ﬁll the<span class="push-double"></span> <span class="pull-double">“</span>City” ﬁeld based on the value from the postal code ﬁeld. That would be rad, wouldn’t it? (Yep, I’m bringing<span class="push-double"></span> <span class="pull-double">“</span>rad” back).</p>
<p>What’s needed? Well, we have to ﬁgure out the actual city name. Luckily, there are services for that. You might want to ﬁnd one for your own country&thinsp;&mdash;&thinsp;I found <a href="http://postnummersok.se/">Postnummersök</a> and <a href="http://yourmoneyisnowmymoney.com/api/">Zip Code API</a> for Swedish postal codes. I’m pretty conﬁdent APIs exist for postal code lookups in your country ( <a href="http://www.google.se/search?sourceid=chrome&amp;ie=UTF-8&amp;q=zip+code+to+city+api">Google will help you</a>). Go for a simple API, preferably REST and optimally a version which offers JSONP, which means you’re able to fetch data right from the Javascript&thinsp;&mdash;&thinsp;working around the cross domain restriction.</p>
<p>I ended up with Postnummersok.se, whose API is really simple and straightforward: just send a REST GET request to <code>http://postnummersok.se/api</code> with the postal code in the <code>q</code> parameter. The response will be returned in JSON (yay!). Even JSONP is possible if you use the <code>callback</code> parameter. Follow along below.</p>
<pre><code>$(&quot;#postal-code&quot;).blur(function(){ 
	var url = &quot;http://postnummersok.se/api?callback=?&quot;,
		// remove whitespace in postal code 
		code = encodeURI(this.value.replace(/s+/g, &quot;&quot;)); 
		
	$.getJSON(url, {q: code}, function(json){ 
		if(json === null) return; 
		
		$(&quot;#city&quot;).val(json[0]).select(); 
	}); 
});
</code></pre>
<p>As you can see I’m using jQuery in this example. A simple <code>blur</code> event is binded to the postal code ﬁeld, and the API URL is deﬁned. Note the <code>?callback=?</code> piece, which tells the jQuery XHR to treat the call as JSONP <a href="http://api.jquery.com/jQuery.getJSON/#jsonp">(read more in the API)</a>.</p>
<p>I also removed whitespace in the postal code (some people may write it as<span class="push-double"></span> <span class="pull-double">“</span>810 20”, and others<span class="push-double"></span> <span class="pull-double">“</span>81020″) since I discovered the API didn’t like the whitespace formatted version (even though it’s URI encoded).</p>
<p>The XHR call is made with <code>$.getJSON</code> specifying the postal code as query parameter. A JSON object is returned in the success callback and then I put it in the city ﬁeld. In this case the JSON consisted of an array&thinsp;&mdash;&thinsp;hence the <code>json[0]</code> construct&thinsp;&mdash;&thinsp;and I want the ﬁrst (and only) value of that array. Lastly I made sure to select/highlight the input ﬁeld with <code>select()</code> to provide a quick way for the visitor to erase the city name if it’s incorrect.</p>
<p>Try it out:</p>
<p>Postal code</p>
<p>City</p>
<p>(As mentioned, it’s only taking Swedish postal codes. Try<span class="push-double"></span> <span class="pull-double">“</span>810 20” and<span class="push-double"></span> <span class="pull-double">“</span>810 22″, as an example).</p>
<p>Neat, isn’t it? Thanks to jQuery and the simplicity of the postal code API, we have created this great UX feature just in a couple of lines of code. It’s easy for the visitor to get around (just erase the selected city suggestion) and it degrades well (there are no vital features depending on Javascript here).</p>
<h2>Outro</h2>
<p>When building forms: put some effort into it, and use your fantasy.<span class="push-double"></span> <span class="pull-double">“</span>How could I make this super boring form really awesome, easy, and even fun to ﬁll in?”. Add delight, but don’t get in the visitor’s way. Add helpful validation messages, and other help text without bloating the whitespace. Form building is truly a form of art, therefore: iterate, iterate, iterate.</p>

    </div>

    <footer>
      
        <p class="f4 comp-grey mt4">
          <b class="mr1">Keywords</b> <span class="Post-Keyword">Ajax</span><span class="Post-Keyword">city</span><span class="Post-Keyword">form</span><span class="Post-Keyword">HTML</span><span class="Post-Keyword">Javascript</span><span class="Post-Keyword">jQuery</span><span class="Post-Keyword">JSON</span><span class="Post-Keyword">postal code</span><span class="Post-Keyword">User Experience</span>
        </p>
      

      

      <p class="mt3">
        <a href="/writings" class="btn">&lt;- More writings</a>
      </p>
    </footer>
  </article>
</main>


    <script type="text/javascript">
      function init() {
        addClasses();

        function first(array, n, guard) {
          if (array == null) return void 0;
          if (n == null || guard) return array[0];

          return [].slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
        };

        function transform(text) {
          const DELIMITER = /\.|,/;
          const sentences = text.split('.');
          const index = text.search(DELIMITER);
          const MAX_WORDS = 6;

          function wrap(w, t) {
            return `<strong>${w}</strong> ${t}`;
          }

          if (index > -1 && index <= 50) {
            return wrap(text.split(DELIMITER)[0], text.substring(index));
          }

          const words = text.split(' ');
          const first = words.splice(0, MAX_WORDS);

          return wrap(first.join(' '), words.join(' '));
        };

        const paragraphs = document.querySelectorAll('.posts article .post__body p');

        [].slice.call(paragraphs).forEach(function (p) {
          if (p.firstChild && (!p.firstChild.tagName || p.firstChild.tagName !== 'STRONG')) {
            p.innerHTML = transform(p.innerText);
          }
        });
      };

      function addClasses() {
        const p = document.querySelectorAll('.post article .post__body p');
        p.length > 0 && p[0].classList.add('ingress');
      };

      document.addEventListener('DOMContentLoaded', init, false);
    </script>

    <script data-goatcounter="https://johanbrook.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </body>

</html>
