<!doctype html><html class=writingsadd-delight-to-web-forms-with-code-sample lang=en><head itemscope itemtype=http://schema.org/Blog><title>add delight to web forms (with code sample) / johan brook</title><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><link as=font crossorigin=anonymous href=/assets/fonts/inter/Inter-italic.var.woff2 rel=preload type=font/woff2><link as=font crossorigin=anonymous href=/assets/fonts/inter/Inter-roman.var.woff2 rel=preload type=font/woff2><link href=https://gc.zgo.at rel=preconnect><link href=https://johanbrook.goatcounter.com rel=preconnect><meta content="I'm a twenty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."name=description><meta content="Ajax,city,form,HTML,Javascript,jQuery,JSON,postal code,User Experience"name=keywords><meta content="Johan Brook"name=author><link href=/johan.css rel=stylesheet><link title="Posts feed"href=/feed.xml rel=alternate type=application/rss+xml><link title="Mind feed"href=/mind.xml rel=alternate type=application/rss+xml><link rel="shortcut icon"href=/favicon.png type=image/png><link href=http://localhost/writings/add-delight-to-web-forms-with-code-sample/ itemprop=url rel=canonical><link href=https://johan.im rel=author><meta content="Add delight to web forms (with code sample)"property=og:title><meta content=http://localhost/writings/add-delight-to-web-forms-with-code-sample/ property=og:url><meta content="Johan Brook"itemprop=name property=og:site_name><meta content=en_GB property=og:locale><meta content="I'm a twenty-something designer and developer based in Sweden. I work with the best people in a company called Lookback, where I help interfaces come to life. I'm coding & designering and I like working with product, user experience, interface design, and other things too."property=og:description><meta content=article property=og:type><meta content="Ajax,city,form,HTML,Javascript,jQuery,JSON,postal code,User Experience"property=article:tag><meta content=2011-07-06T00:00:00Z property=article:published_time><body><div class=Content><nav class=SideNav role=navigation><div class=SideNav__inner><h1 class="f3 no-rhythm"><a href=/>Johan Brook</a></h1><div><label class="SideNav__toggle btn"for=mobile-nav-trigger>Menu</label></div></div><input id=mobile-nav-trigger type=checkbox><ul><li><a href=/writings/>Writings</a><li><a href=/now/>Now</a><li><a href=/mind/>On my mind</a><li><a href=/reading/>Reading</a><li><a href=/about/>About me</a><li><a href=/contact/>Contact</a></ul></nav><main role=main><article class=Post itemscope itemtype=http://schema.org/BlogPosting role=article><header><h1 class=title itemprop=name>Add delight to web forms (with code sample)</h1><p class="mb0 fw5 mt3"><time datetime=2011-07-06T00:00:00Z itemprop=datePublished pubdate> July 6th, 2011 </time><p class="muted mb4">About 3 min reading time</header><div class="prose measure"itemprop=articleBody><p>Marking up and styling forms in HTML and CSS is something you either love or hate. Personally I love it, since it's one of these things I can be really nitty-picky with – to iterate and iterate over the appearance and behavior of the form. "Is this simple enough? Is this section necessary? Should we separate this from that?", and so on.<p>I also love the small details in forms where the regular visitor in me thinks "Huh, that's neat of the form to do that for me", and the web developer in me raises a smile and a quiet chuckle. A great example is the ordering form for <a href=https://www.panic.com/transmit/buy.html>Panic's Transmit</a>.<h2>Exhibit A: "How many copy may I get you?"</h2><p><a href=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-1-copy.png><img alt="Panic Transmit"src=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-1-copy.png></a> Everything looks as it should do. Nothing unusual. <a href=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-3-copies.png><img alt="Panic Transmit"src=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-3-copies.png></a> Try changing the amount of copies, and watch the grammar of the sentence change as well. Also: switch between the "Transmit 4" and "Transmit 4 Upgrade" options and see the sentences change.<p>That's cool, isn't it? Those small details which really feel logical – <em>how it should be done everywhere</em>. It's quite interesting that we're stunned over these kind of details when it should be obvious for a web developer to implement this. This is how we expect forms to work.<h2>Exhibit B: "Are we there yet?"</h2><p>In the same form, scroll to the bottom and you'll find the submit button disguised as a progress meter. It'll update live as you complete the form, giving you instant feedback on the eternal question: "Did I get 'em all now?".<p><a href=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Process.png><img alt="Panic Transmit"src=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Process.png></a> <a href=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Done.png><img alt="Panic Transmit"src=http://johanbrook.com/core/wp-content/uploads/2011/07/Panic-Transmit-Done.png></a><p>I'm sure there are a ton of cases like these all over the websites belonging to hip companies.<h2>A quick example of nice UX:</h2><p>Automatically fetch the city based on a postal code How to you add delight to a form, without writing a whole jQuery plugin for it? Let's say you have a sign up form which includes a postal code and city.<pre><code>&LTform method="POST" action="">
	&LTlabel>Postal code 
		&LTinput type="text" placeholder="810 20" id="postal-code" />
	&LT/label>
	
	&LTlabel>City 
		&LTinput type="text" placeholder="City" id="city" />
	&LT/label>
&LT/form>
</code></pre><p>That code would produce this:<p>Postal code<p>City<p>Nothing weird going on. Now imagine if we could automatically fill the "City" field based on the value from the postal code field. That would be rad, wouldn't it? (Yep, I'm bringing "rad" back).<p>What's needed? Well, we have to figure out the actual city name. Luckily, there are services for that. You might want to find one for your own country – I found <a href=http://postnummersok.se/>Postnummersök</a> and <a href=http://yourmoneyisnowmymoney.com/api/>Zip Code API</a> for Swedish postal codes. I'm pretty confident APIs exist for postal code lookups in your country ( <a href="http://www.google.se/search?sourceid=chrome&ie=UTF-8&q=zip+code+to+city+api">Google will help you</a>). Go for a simple API, preferably REST and optimally a version which offers JSONP, which means you're able to fetch data right from the Javascript – working around the cross domain restriction.<p>I ended up with Postnummersok.se, whose API is really simple and straightforward: just send a REST GET request to <code>http://postnummersok.se/api</code> with the postal code in the <code>q</code> parameter. The response will be returned in JSON (yay!). Even JSONP is possible if you use the <code>callback</code> parameter. Follow along below.<pre><code>$("#postal-code").blur(function(){ 
	var url = "http://postnummersok.se/api?callback=?",
		// remove whitespace in postal code 
		code = encodeURI(this.value.replace(/s+/g, "")); 
		
	$.getJSON(url, {q: code}, function(json){ 
		if(json === null) return; 
		
		$("#city").val(json[0]).select(); 
	}); 
});
</code></pre><p>As you can see I'm using jQuery in this example. A simple <code>blur</code> event is binded to the postal code field, and the API URL is defined. Note the <code>?callback=?</code> piece, which tells the jQuery XHR to treat the call as JSONP <a href=http://api.jquery.com/jQuery.getJSON/#jsonp>(read more in the API)</a>.<p>I also removed whitespace in the postal code (some people may write it as "810 20", and others "81020") since I discovered the API didn't like the whitespace formatted version (even though it's URI encoded).<p>The XHR call is made with <code>$.getJSON</code> specifying the postal code as query parameter. A JSON object is returned in the success callback and then I put it in the city field. In this case the JSON consisted of an array – hence the <code>json[0]</code> construct – and I want the first (and only) value of that array. Lastly I made sure to select/highlight the input field with <code>select()</code> to provide a quick way for the visitor to erase the city name if it's incorrect.<p>Try it out:<p>Postal code<p>City<p>(As mentioned, it's only taking Swedish postal codes. Try "810 20" and "810 22", as an example).<p>Neat, isn't it? Thanks to jQuery and the simplicity of the postal code API, we have created this great UX feature just in a couple of lines of code. It's easy for the visitor to get around (just erase the selected city suggestion) and it degrades well (there are no vital features depending on Javascript here).<h2>Outro</h2><p>When building forms: put some effort into it, and use your fantasy. "How could I make this super boring form really awesome, easy, and even fun to fill in?". Add delight, but don't get in the visitor's way. Add helpful validation messages, and other help text without bloating the whitespace. Form building is truly a form of art, therefore: iterate, iterate, iterate.</div></article></main></div><footer class=mb3 role=contentinfo><nav><ul class="f6 list-reset mb3"><li><a href=/>Home</a><li><a href=/feed.xml title=Atom>Post feed</a><li><a href=/mind.xml title=Atom>Mind feed</a><li><a href=/credits>Credits</a><li><a href=/changelog>Changelog</a><li><a href=/api.json>api.json</a></ul></nav><p class="muted f6 tc mb0">Using <a class=font-mono href=https://github.com/johanbrook/johanbrook.com/commit/4be5a1b7a8edf884671f9b02c2365e59cd9fa9f0>4be5a1b</a> — built at <time>2023-01-26T08:00:27.377Z</time> — web 1.0 and 2.0 compatible.</footer><script>if(window.location.host!==new URL('https://johan.im').host){window.goatcounter={no_onload:true}};if(window.location.hash==='#skipgc')localStorage.setItem('skipgc','t');if(localStorage.getItem('skipgc')==='t')window.goatcounter={no_onload:true}</script><script async data-goatcounter=https://johanbrook.goatcounter.com/count src=//gc.zgo.at/count.js></script>